{"componentChunkName":"component---src-templates-post-template-jsx","path":"/cs/db-sql/sql-02/","result":{"data":{"site":{"siteMetadata":{"title":"Blog by 인간지능","subtitle":"깔끔한 프로그래밍","copyright":"© All rights reserved.","author":{"name":"인간지능","twitter":"#"},"disqusShortname":"bmh8993-github-io","url":"https://bmh8993.github.io/"}},"markdownRemark":{"id":"eaf446b7-8670-5404-9d10-1d99099f4461","html":"<p>지난 포스트에서 설명한 것을 제목만 나열해 보겠습니다.</p>\n<h4>1. 추출하고자 하는 데이터를 설정한다.</h4>\n<h4>2. 조건이 있다면 조건을 정리하고, 계산을 해야하는 데이터를 구분한다.</h4>\n<h4>3. 데이터 추출을 위해 테이블 간에 관계가 필요하다면 어떤 관게로 이루어 져야 할지 정리한다.</h4>\n<hr>\n<p>큰 흐름은 이렇습니다. 1번과 2번은 <a href=\"https://bmh8993.github.io/DATABASE&#x26;SQL/sql-%EC%A7%9C%EA%B8%B0-%EC%A0%84%EC%97%90-%ED%9D%90%EB%A6%84%EC%9D%84-%ED%8C%8C%EC%95%85%ED%95%98%EC%9E%90./\">지난 포스트</a>에서 예시로 정리를 했으니 넘어가도록 하겠습니다.<br><br>\n먼저 추출하고자 하는 데이터와 조건들을 살펴보겠습니다.<br></p>\n<ul>\n<li>\n<p><strong>가져오고자 하는 데이터</strong></p>\n<ol>\n<li>순위</li>\n<li>순위 변동(기준일자와 기준일자의 하루 전데이터의 비교)</li>\n<li>회사 이름</li>\n<li>누적 대출액</li>\n<li>기타 데이터</li>\n</ol>\n</li>\n<li>\n<p><strong>조건</strong></p>\n<ol>\n<li>is_use = True</li>\n<li><code class=\"language-text\">누적 대출액</code>을 기준으로 내림차순 정렬을 진행합니다.</li>\n<li>is_association의 값이 <code class=\"language-text\">True</code> or <code class=\"language-text\">False</code> 혹은 <code class=\"language-text\">True와 False 모두</code> 이렇게 첫번째 필터 조건이 있습니다.</li>\n<li>기준 일자를 설정합니다.</li>\n<li>기타 컬럼들로 정렬이 가능해야합니다.</li>\n</ol>\n</li>\n</ul>\n<hr>\n<p>정리한 내용을 가지고 하나씩 살펴보겠습니다.<br>\n5번 조건을 잠시 제외하고 생각하겠습니다.<br>\n<code class=\"language-text\">순위</code>는 <code class=\"language-text\">누적 대출액</code>을 기준으로 내림차순 정렬할 예정입니다. 순위는 없는 컬럼이므로 만들어야 할 것 같습니다.<br>\n<code class=\"language-text\">순위 변동</code>이라는 데이터는 말 그대로 변동을 나타내기 때문에 <strong>오늘과 어제</strong>처럼 차이가 필요합니다.\n여기서 중요한 것은 <code class=\"language-text\">어제와 오늘</code> 테이블 <code class=\"language-text\">두 개</code>가 필요하고, 두 개의 테이블은 관계가 필요하다는 말이 됩니다.<br>\n<code class=\"language-text\">회사이름</code>, <code class=\"language-text\">누적 대출액</code>, <code class=\"language-text\">기타 데이터</code>는 Item 테이블에서 가져올 수 있는 데이터 입니다.<br></p>\n<p>조건을 살펴보면 필터 조건이 있습니다. 그런데 문제가 있습니다.\n<code class=\"language-text\">Header</code>테이블과 <code class=\"language-text\">Item</code>테이블은 서로 전혀 다른 데이터를 가지고 있습니다.\n<code class=\"language-text\">Header</code>테이블은 조건을, <code class=\"language-text\">Item</code>테이블은 정보를 가지고 있습니다. 두 테이블의 연결고리는 <code class=\"language-text\">company_no</code>뿐입니다.</p>\n<hr>\n<p>일단 이 이렇게 큰 그림을 그려보는 것이 중요합니다. 이 정리한 내용을 가지고 SQL을 작성해보겠습니다.\n<a href=\"https://bmh8993.github.io/DATABASE&#x26;SQL/sql-%ED%81%B0-%EA%B7%B8%EB%A6%BC%EC%97%90%EC%84%9C-%EC%9E%91%EC%9D%80-%EA%B7%B8%EB%A6%BC%EC%9C%BC%EB%A1%9C/\">다음 포스트</a>로 이어집니다.</p>","fields":{"tagSlugs":["/tags/sql/"],"slug":"/cs/db-sql/sql-02/"},"frontmatter":{"title":"SQL#02//sql 큰 그림을 그려보자","tags":["sql"],"date":"2020-02-11T22:02:36.000Z","description":"SQL을 짜는 전략에 대해서 알아봅시다.","path":"/cs/db-sql/sql-02/","category":"DB&SQL"},"tableOfContents":"<ul>\n<li><a href=\"/cs/db-sql/sql-02/#1-%EC%B6%94%EC%B6%9C%ED%95%98%EA%B3%A0%EC%9E%90-%ED%95%98%EB%8A%94-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EC%84%A4%EC%A0%95%ED%95%9C%EB%8B%A4\">1. 추출하고자 하는 데이터를 설정한다.</a></li>\n<li><a href=\"/cs/db-sql/sql-02/#2-%EC%A1%B0%EA%B1%B4%EC%9D%B4-%EC%9E%88%EB%8B%A4%EB%A9%B4-%EC%A1%B0%EA%B1%B4%EC%9D%84-%EC%A0%95%EB%A6%AC%ED%95%98%EA%B3%A0-%EA%B3%84%EC%82%B0%EC%9D%84-%ED%95%B4%EC%95%BC%ED%95%98%EB%8A%94-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EA%B5%AC%EB%B6%84%ED%95%9C%EB%8B%A4\">2. 조건이 있다면 조건을 정리하고, 계산을 해야하는 데이터를 구분한다.</a></li>\n<li><a href=\"/cs/db-sql/sql-02/#3-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%B6%94%EC%B6%9C%EC%9D%84-%EC%9C%84%ED%95%B4-%ED%85%8C%EC%9D%B4%EB%B8%94-%EA%B0%84%EC%97%90-%EA%B4%80%EA%B3%84%EA%B0%80-%ED%95%84%EC%9A%94%ED%95%98%EB%8B%A4%EB%A9%B4-%EC%96%B4%EB%96%A4-%EA%B4%80%EA%B2%8C%EB%A1%9C-%EC%9D%B4%EB%A3%A8%EC%96%B4-%EC%A0%B8%EC%95%BC-%ED%95%A0%EC%A7%80-%EC%A0%95%EB%A6%AC%ED%95%9C%EB%8B%A4\">3. 데이터 추출을 위해 테이블 간에 관계가 필요하다면 어떤 관게로 이루어 져야 할지 정리한다.</a></li>\n</ul>","headings":[{"value":"1. 추출하고자 하는 데이터를 설정한다.","depth":4},{"value":"2. 조건이 있다면 조건을 정리하고, 계산을 해야하는 데이터를 구분한다.","depth":4},{"value":"3. 데이터 추출을 위해 테이블 간에 관계가 필요하다면 어떤 관게로 이루어 져야 할지 정리한다.","depth":4}]}},"pageContext":{"slug":"/cs/db-sql/sql-02/"}},"staticQueryHashes":[]}