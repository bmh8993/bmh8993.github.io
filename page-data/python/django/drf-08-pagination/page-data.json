{"componentChunkName":"component---src-templates-post-template-jsx","path":"/python/django/drf-08-pagination/","result":{"data":{"site":{"siteMetadata":{"title":"Blog by 인간지능","subtitle":"깔끔한 프로그래밍","copyright":"© All rights reserved.","author":{"name":"인간지능","twitter":"#"},"disqusShortname":"bmh8993-github-io","url":"https://bmh8993.github.io/"}},"markdownRemark":{"id":"324fb642-6a1c-5edf-b02a-9eadec09ac95","html":"<h1>Pagination</h1>\n<ul>\n<li>DRF는 커스텀 가능한 페이지네이션 스타일을 제공합니다.</li>\n<li>DRF에서 제공하는 pagination 기능은 두가지 입니다.</li>\n</ul>\n<h4>PageNumberPagination</h4>\n<ul>\n<li>PageNumberPagination을 상속받아서 페이지네이션 클래스를 정의합니다.</li>\n<li><code class=\"language-text\">page</code>: 1부터 시작하고, 몇 번째 페이지인지 표시해주는 query parmeter의 이름을\n나타내는 default 문자열 value. <code class=\"language-text\">page_query_param</code>의 값을 설정하면 query parmeter 변경이 가능합니다.</li>\n<li><code class=\"language-text\">page_size</code>: 한 페이지에 몇 개의 레코드를 보여줄지 표시해주는 key.\nclient로부터 <code class=\"language-text\">page_size</code>를 받기 위해서는 <code class=\"language-text\">page_size_query_param = page_size</code>라고 정의해야합니다.</li>\n<li><code class=\"language-text\">end/point/?page=2&amp;page_size=10</code>과 같이 호출하면 한 페이지에 10개씩 contents가 보이고 2페이지를 보는 endpoint가 완성됩니. <code class=\"language-text\">page_size_query_param</code>으로 설정하는 값은 <code class=\"language-text\">page_size</code>가 아니어도 됩니다.\n단, endpoint에서 호출할 때 사용하는 파라미터 이름은 설정 값과 동일해야 합니다.</li>\n</ul>\n<h4>LimitOffsetPagination</h4>\n<ul>\n<li>LimitOffsetPagination을 상속받아서 페이지네이션 클래스를 정의합니다.</li>\n<li><code class=\"language-text\">limit_query_param</code>: “limit” query parmeter의 이름을 나타내는 문자열 value</li>\n<li><code class=\"language-text\">offset_query_param</code>: “offset” query parmeter의 이름을 나타내는 문자열 value</li>\n</ul>\n<h2>모든 View에 동일한 Pagination 적용하기(전역 설정)</h2>\n<ul>\n<li>settings.py에 아래 코드를 입력합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">REST_FRAMEWORK <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'DEFAULT_PAGINATION_CLASS'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'rest_framework.pagination.LimitOffsetPagination'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'PAGE_SIZE'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>특정 View에 특정 Pagination 지정하기</h2>\n<ul>\n<li>pagination class를 작성합니다.</li>\n<li>app/api/views.py에 다음과 같이 입력합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">#  app/api/pagination.py</span>\n\n<span class=\"token keyword\">from</span> rest_framework<span class=\"token punctuation\">.</span>pagination <span class=\"token keyword\">import</span> PageNumberPagination\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SmallSetPagination</span><span class=\"token punctuation\">(</span>PageNumberPagination<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    page_size <span class=\"token operator\">=</span> <span class=\"token number\">3</span>  <span class=\"token comment\"># default page_size를 3이라고 설정</span>\n    page_size_query_param <span class=\"token operator\">=</span> <span class=\"token string\">\"page_size\"</span>  <span class=\"token comment\"># page_size를 client로 부터 받아서 처리</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># app/api/views.py</span>\n\n<span class=\"token keyword\">from</span> app<span class=\"token punctuation\">.</span>api<span class=\"token punctuation\">.</span>pagination <span class=\"token keyword\">import</span> SmallSetPagination\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ExampleAPIView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    pagenation_class <span class=\"token operator\">=</span> SmallSetPagination</code></pre></div>\n<hr>\n<p>ref: <a href=\"https://dean-kim.github.io/rest_framework/2017/05/12/Django-REST-Framework-Pagination.html\">Dean’s blog</a><br>\nref: <a href=\"https://ssungkang.tistory.com/entry/Django-DRF-Pagination\">ssung.k</a></p>","fields":{"tagSlugs":["/tags/drf/"],"slug":"/python/django/drf-08-pagination/"},"frontmatter":{"title":"DRF/#08 Pagination 처리하기","tags":["DRF"],"date":"2020-05-06T23:06:14.000Z","description":"DRF의 pagination에 대해서 알아봅시다.","path":"/python/django/drf-08-pagination/","category":"Django"},"tableOfContents":"<ul>\n<li>\n<p><a href=\"/python/django/drf-08-pagination/#pagination\">Pagination</a></p>\n<ul>\n<li>\n<ul>\n<li>\n<ul>\n<li><a href=\"/python/django/drf-08-pagination/#pagenumberpagination\">PageNumberPagination</a></li>\n<li><a href=\"/python/django/drf-08-pagination/#limitoffsetpagination\">LimitOffsetPagination</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"/python/django/drf-08-pagination/#%EB%AA%A8%EB%93%A0-view%EC%97%90-%EB%8F%99%EC%9D%BC%ED%95%9C-pagination-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0%EC%A0%84%EC%97%AD-%EC%84%A4%EC%A0%95\">모든 View에 동일한 Pagination 적용하기(전역 설정)</a></li>\n<li><a href=\"/python/django/drf-08-pagination/#%ED%8A%B9%EC%A0%95-view%EC%97%90-%ED%8A%B9%EC%A0%95-pagination-%EC%A7%80%EC%A0%95%ED%95%98%EA%B8%B0\">특정 View에 특정 Pagination 지정하기</a></li>\n</ul>\n</li>\n</ul>","headings":[{"value":"Pagination","depth":1},{"value":"PageNumberPagination","depth":4},{"value":"LimitOffsetPagination","depth":4},{"value":"모든 View에 동일한 Pagination 적용하기(전역 설정)","depth":2},{"value":"특정 View에 특정 Pagination 지정하기","depth":2}]}},"pageContext":{"slug":"/python/django/drf-08-pagination/"}},"staticQueryHashes":[]}